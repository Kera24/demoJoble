(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){e.exports=a(70)},39:function(e,t,a){},41:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(30),r=a.n(l),s=(a(39),a(2)),c=a(3),i=a(4),m=a(5),u=a(11),p=(a(40),a(41),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onLogOutClick=function(){n.props.onLogOutClick()},n.onRegisterClick=function(){n.props.onRegisterClick()},n.onLoginClick=function(){n.props.onLoginClick()},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar navbar-dark bg-dark navbar-expand-sm fixed-top justify-content-end"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item logo"},o.a.createElement(u.b,{to:"/",className:"nav-link",onClick:this.onLoginClick}," Joble")),this.props.showUpdateNavBar&&o.a.createElement("span",{className:"options"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(u.b,{to:"/",className:"nav-link",onClick:this.onLogOutClick},"Log-out")))))}}]),a}(n.Component)),d=a(6),h=a.n(d),b=(a(64),a(65),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleUserNameChange=function(e){n.setState({userName:e.target.value}),h.a.post("/users/validateUserName",{userName:e.target.value}).then((function(e){console.log("Username ",e.data.userName," exists!")})).catch((function(e){n.state.userName.length>3&&""!==n.state.userName?console.log("Valid Username!"):console.log("Invalid Username")}))},n.handleUserPasswordChange=function(e){n.setState({userPassword:e.target.value})},n.handleUserTypeChange=function(e){n.setState({userType:e.target.value}),n.setState({companyName:""}),"recruiter"===e.target.value?n.getExistingCompanies():n.setState({showNewCompanyForm:!1,isCompanyNew:!1})},n.getExistingCompanies=function(){h.a.get("/companies/getCompanies").then((function(e){console.log(e.data," is in the database"),n.setState({companies:e.data}),console.log("companies in state:",n.state.companies)})).catch((function(e){console.log("error occured during companies retrieval")}))},n.handleCompanyNameChange=function(e){"registerNewCompany"===e.target.value?n.setState({showNewCompanyForm:!0,isCompanyNew:!0,companyName:""}):(n.setState({showNewCompanyForm:!1,isCompanyNew:!1}),n.setState({companyName:e.target.value}),console.log("companyName selected:",e.target.value))},n.handleNewCompanyNameChange=function(e){n.setState({isCompanyNew:!0,companyName:e.target.value}),console.log("new companyName selected:",e.target.value)},n.handleCompanyWebsiteChange=function(e){n.setState({companyWebsite:e.target.value},(function(){}))},n.handleCompanyTypeChange=function(e){n.setState({companyType:e.target.value},(function(){}))},n.handleCompanySizeChange=function(e){n.setState({companySize:e.target.value},(function(){}))},n.handleCompanyHeadquatersChange=function(e){n.setState({companyHeadquaters:e.target.value},(function(){}))},n.handleCompanyFoundedChange=function(e){n.setState({companyFounded:e.target.value},(function(){}))},n.handleCompanySectorChange=function(e){n.setState({companySector:e.target.value},(function(){}))},n.handleCompanyAboutChange=function(e){n.setState({companyAbout:e.target.value},(function(){}))},n.onSuccessful_Register=function(){n.props.onSuccessful_Register()},n.handleRegister=function(e){e.preventDefault();var t={userName:n.state.userName,userPassword:n.state.userPassword,userType:n.state.userType,companyName:n.state.companyName,loginStatus:n.state.loginStatus},a={companyName:n.state.companyName,companyWebsite:n.state.companyWebsite,companyType:n.state.companyType,companySize:n.state.companySize,companyHeadquaters:n.state.companyHeadquaters,companyFounded:n.state.companyFounded,companySector:n.state.companySector,companyAbout:n.state.companyAbout,companyJobs:[],companyReviews:[]};"recruiter"===t.userType&&console.log("Is it a new company?",n.state.isCompanyNew),"student"===t.userType||"recruiter"===t.userType&&!n.state.isCompanyNew?h.a.post("/users/add",t).then((function(e){console.log(e.data.userName," registered!"),n.onSuccessful_Register()})).catch((function(e){console.log("An error occured during user registration\n",e),alert("User Registration Failed"),h.a.post("/users/delete",t).then((function(e){console.log("User registration is undone")})).catch((function(e){console.log("User registration couldn't be undone",e),alert("Recruiter rollback failed")}))})):"recruiter"===t.userType&&n.state.isCompanyNew&&h.a.post("/users/add",t).then((function(e){console.log("User ",e.data.userName," registered!"),h.a.post("/companies/add",a).then((function(e){console.log("Company ",e.data.companyName," registered!"),n.onSuccessful_Register()})).catch((function(e){console.log("An error occured during company registration\n",e),alert("Company Registration Failed"),h.a.post("/users/delete",t).then((function(e){console.log("User registration is undone")})).catch((function(e){console.log("User registration couldn't be undone",e),alert("Recruiter rollback failed")}))}))})).catch((function(e){console.log("An error occured during user registration\n",e),alert("User Registration Failed")}))},n.onCancelClick=function(){n.props.onLoginClick()},n.state={userName:"",userPassword:"",userType:"student",loginStatus:"offline",companyName:"",showNewCompanyForm:!1,isCompanyNew:!0,companyWebsite:"",companyType:"",companySize:"",companyHeadquaters:"",companyFounded:"",companySector:"",companyAbout:"",companies:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){console.log("RegisterFrom componentDidMount")}},{key:"componentWillUnmount",value:function(){console.log("RegisterFrom componentwillunmount")}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("form",{className:"myRegisterForm"},o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"Username"},"Username (min. 4 characters)"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"userName",value:this.state.userName,onChange:this.handleUserNameChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"Password"},"Password (min. 4 characters)"),o.a.createElement("input",{type:"password",className:"form-control registerform-control",id:"userPassword",value:this.state.userPassword,onChange:this.handleUserPasswordChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"Occupation"},"Occupation"),o.a.createElement("select",{className:"form-control registerform-control",id:"userType",value:this.state.userType,onChange:this.handleUserTypeChange},o.a.createElement("option",{value:"student"},"Student"),o.a.createElement("option",{value:"recruiter"},"Recruiter"))),"recruiter"===this.state.userType?o.a.createElement("div",null,!this.state.showNewCompanyForm&&o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyName"},"Company Name"),o.a.createElement("select",{className:"form-control registerform-control",id:"companyName",onChange:this.handleCompanyNameChange},o.a.createElement("option",{disabled:!0,selected:!0},"Select one"),this.state.companies.map((function(e){return o.a.createElement("option",{key:e._id,value:e.companyName},e.companyName)})),o.a.createElement("option",{value:"registerNewCompany"},"Create one"))),this.state.showNewCompanyForm&&o.a.createElement("div",null,o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyName"},"Company Name"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"companyName",value:this.state.companyName,onChange:this.handleNewCompanyNameChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyWebsite"},"Company Website"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"companyWebsite",value:this.state.companyWebsite,onChange:this.handleCompanyWebsiteChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyType"},"Company Type"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"companyType",value:this.state.companyType,onChange:this.handleCompanyTypeChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companySize"},"Company Size"),o.a.createElement("select",{className:"form-control registerform-control",id:"companySize",value:this.state.companySize,onChange:this.handleCompanySizeChange},o.a.createElement("option",{value:"Self-employed"},"A: Self-employed"),o.a.createElement("option",{value:"1-10 employees"},"B: 1-10 employees"),o.a.createElement("option",{value:"11-50 employees"},"C: 11-50 employees"),o.a.createElement("option",{value:"51-200 employees"},"D: 51-200 employees"),o.a.createElement("option",{value:"201-500 employees"},"E: 201-500 employees"),o.a.createElement("option",{value:"501-1000 employees"},"F: 501-1000 employees"),o.a.createElement("option",{value:"1001-5000 employees"},"G: 1001-5000 employees"),o.a.createElement("option",{value:"5001-10,000 employees"},"H: 5001-10,000 employees"),o.a.createElement("option",{value:"10,001+ employees"},"I: 10,001+ employees"))),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyHeadquaters"},"Headquaters Location"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"",value:this.state.companyHeadquaters,onChange:this.handleCompanyHeadquatersChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyFounded"},"Year Founded"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"companyFounded",value:this.state.companyFounded,onChange:this.handleCompanyFoundedChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companySector"},"Sector"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"companySector",value:this.state.companySector,onChange:this.handleCompanySectorChange})),o.a.createElement("div",{className:"form-group  registerform-group row"},o.a.createElement("label",{className:"registerform-label col",htmlFor:"companyAbout"},"About Your Company"),o.a.createElement("input",{type:"text",className:"form-control registerform-control",id:"companyAbout",value:this.state.companyAbout,onChange:this.handleCompanyAboutChange})))):null,o.a.createElement("button",{type:"button",className:"btn btn-success registerform-btn",onClick:this.handleRegister},"Register"),o.a.createElement("button",{type:"button",className:"btn btn-primary registerform-btn",onClick:this.onCancelClick},"Cancel"))))}}]),a}(n.Component)),y=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleUserNameChange=function(e){n.setState({userName:e.target.value})},n.handleUserPasswordChange=function(e){n.setState({userPassword:e.target.value})},n.updateShowUpdateNavBar=function(e){n.props.updateShowUpdateNavBar(e)},n.onSuccessful_Login=function(){n.props.onSuccessful_Login()},n.updateUserObj=function(e){n.props.updateUserObj(e)},n.onSuccessful_Register=function(){n.props.onSuccessful_Register()},n.handleLogin=function(e){e.preventDefault();var t={userName:n.state.userName,userPassword:n.state.userPassword};console.log(t),h.a.post("/users/authenticate",t).then((function(e){console.log("USER:",e.data),void 0===e||null===e?alert("USER IS NOT REGISTERED"):(console.log("Signing in ....... with user: "),n.updateUserObj(e.data),n.onSuccessful_Login())})).catch((function(e){console.log(e),alert("Please check your username or password")}))},n.onRegisterClick=function(){n.props.onRegisterClick()},n.onLoginClick=function(){n.props.onLoginClick()},n.state={userName:"",userPassword:""},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.showRegister&&o.a.createElement(b,{onSuccessful_Register:this.onSuccessful_Register,onLoginClick:this.onLoginClick}),this.props.showLogin&&o.a.createElement("form",{className:"myLoginForm myForm"},o.a.createElement("div",{className:"loginform-group form-group"},o.a.createElement("label",{className:"loginform-label",htmlFor:"Username"},"Username"),o.a.createElement("input",{type:"text",className:"loginform-control form-control",id:"username",value:this.state.userName,onChange:this.handleUserNameChange})),o.a.createElement("div",{className:"loginform-group form-group"},o.a.createElement("label",{className:"loginform-label",htmlFor:"Password"},"Password"),o.a.createElement("input",{type:"password",className:"loginform-control form-control",id:"userPassword",value:this.state.userPassword,onChange:this.handleUserPasswordChange})),o.a.createElement("button",{type:"button",className:"btn btn-success loginform-btn",onClick:this.handleLogin},"Login"),o.a.createElement("button",{type:"button",className:"btn btn-primary loginform-btn",onClick:this.onRegisterClick},"Register")))}}]),a}(n.Component),g=a(1),E=(a(15),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleUserNameChange=function(e){n.setState({userName:e.target.value})},n.handleOldUserPasswordChange=function(e){n.setState({userOldPassword:e.target.value})},n.handleNewUserPasswordChange=function(e){n.setState({userNewPassword:e.target.value})},n.handleCompanyNameChange=function(e){n.setState({companyName:e.target.value})},n.handleEditProfile=function(e){e.preventDefault();var t={oldUserName:n.props.user.userName,newUserName:n.state.userName,userOldPassword:n.state.userOldPassword,userNewPassword:n.state.userNewPassword,companyName:n.state.companyName};h.a.post("/users/edit",t).then((function(e){var t={userName:n.state.userName,userPassword:n.state.userNewPassword,companyName:n.state.companyName};document.getElementById("editProfileMessage").style.color="green",n.setState({userName:"",userOldPassword:"",userNewPassword:"",companyName:"",editProfileMessage:"Changes saved!"}),n.handleUserEdit(t)})).catch((function(e){document.getElementById("editProfileMessage").style.color="red",n.setState({editProfileMessage:"There was an error editing the profile. Please try again."})})).finally((function(){window.scrollTo(0,0)}))},n.handleCancel=function(){n.props.handleCancel()},n.state={userName:n.props.user.userName,userOldPassword:"",userNewPassword:"",companyName:n.props.user.companyName,editProfileMessage:""},n.handleUserNameChange=n.handleUserNameChange.bind(Object(g.a)(n)),n.handleOldUserPasswordChange=n.handleOldUserPasswordChange.bind(Object(g.a)(n)),n.handleNewUserPasswordChange=n.handleNewUserPasswordChange.bind(Object(g.a)(n)),n.handleCompanyNameChange=n.handleCompanyNameChange.bind(Object(g.a)(n)),n.handleEditProfile=n.handleEditProfile.bind(Object(g.a)(n)),n.handleUserEdit=n.handleUserEdit.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"handleUserEdit",value:function(e){this.props.handleUserEdit(e)}},{key:"render",value:function(){var e=this.props.user;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Edit Profile"),o.a.createElement("h5",{id:"editProfileMessage"},this.state.editProfileMessage),o.a.createElement("form",{className:"myForm"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Username"},"Username (min. 4 characters)"),o.a.createElement("input",{type:"text",placeholder:e.userName,className:"form-control",id:"userName",value:this.state.userName,onChange:this.handleUserNameChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Password"},"Old Password"),o.a.createElement("input",{type:"password",className:"form-control",id:"oldPassword",value:this.state.userOldPassword,onChange:this.handleOldUserPasswordChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"Password"},"New Password"),o.a.createElement("input",{type:"password",className:"form-control",id:"newPassword",value:this.state.userNewPassword,onChange:this.handleNewUserPasswordChange})),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleEditProfile},"Save changes"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleCancel},"Cancel"))))}}]),a}(n.Component)),f=a(8),v=(a(66),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).applyCompanyFilter=function(){var e=document.getElementsByName("deadline-order");Object(f.a)(e)[0].selected=!0;var t=document.getElementsByName("company"),a=Object(f.a)(t).find((function(e){return!0===e.selected})).value,l=[],r=(l="all"!==a?n.state.allJobs.filter((function(e){return e.companyName===a})):n.state.allJobs).map((function(e,t){return new Date(e.deadline).getTime()>(new Date).getTime()&&o.a.createElement("tr",{key:t,onClick:function(){return n.props.onSelectJob(e)}},o.a.createElement("td",null,e.jobTitle),o.a.createElement("td",null,e.companyName),o.a.createElement("td",null,e.createdAt),o.a.createElement("td",null,e.deadline?new Date(e.deadline).toLocaleString():"Not specified"))}));n.setState({jobs:r,jobsClean:l})},n.changeDeadline=function(){var e=document.getElementsByName("deadline-order"),t=Object(f.a)(e).find((function(e){return!0===e.selected})).value,a=n.state.companies,l=n.state.jobsClean;l.sort((function(e,a){return 0==t?new Date(e.deadline)-new Date(a.deadline):new Date(a.deadline)-new Date(e.deadline)}));var r=l.map((function(e,t){return new Date(e.deadline).getTime()>(new Date).getTime()&&o.a.createElement("tr",{key:t,onClick:function(){return n.props.onSelectJob(e)}},o.a.createElement("td",null,e.jobTitle),o.a.createElement("td",null,e.companyName),o.a.createElement("td",null,e.createdAt),o.a.createElement("td",null,e.deadline?new Date(e.deadline).toLocaleString():"Not specified"))}));n.setState({jobs:r,companies:a})},n.state={jobs:[],allJobs:[],companies:[],jobsClean:[]},n.getJobs=n.getJobs.bind(Object(g.a)(n)),n.printJobs=n.printJobs.bind(Object(g.a)(n)),n.getJobs(),n}return Object(c.a)(a,[{key:"getJobs",value:function(){var e=this;h.a.get("/jobs/viewJobs?companyName=".concat(this.props.companyName)).then((function(t){e.printJobs(t.data)})).catch((function(e){console.log(e)}))}},{key:"printJobs",value:function(e){var t=this,a=[];e.sort((function(e,t){return new Date(e.deadline)-new Date(t.deadline)})),e.forEach((function(e){-1===a.indexOf(e.companyName)&&a.push(e.companyName)}));var n=e.map((function(e,a){return console.log(e),new Date(e.deadline).getTime()>(new Date).getTime()&&o.a.createElement("tr",{key:a,onClick:function(){return t.props.onSelectJob(e)}},o.a.createElement("td",null,e.jobTitle),o.a.createElement("td",null,e.companyName),o.a.createElement("td",null,e.createdAt),o.a.createElement("td",null,e.deadline?new Date(e.deadline).toLocaleString():"Not specified"))}));this.setState({jobs:n,allJobs:e,jobsClean:e,companies:a})}},{key:"render",value:function(){return Array.isArray(this.state.jobs)&&0===this.state.jobs.length?o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Active Jobs"),o.a.createElement("br",null),this.props.companyName&&o.a.createElement("p",null,"You have not posted any jobs yet!"),!this.props.companyName&&o.a.createElement("p",null,"No active listings to show. Try again later!")):o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Active Jobs"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("table",{className:"table customStyle"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Job Title"),!this.props.companyName&&o.a.createElement("th",null,o.a.createElement("select",{className:"custom-select mr-sm-2",onChange:this.applyCompanyFilter},o.a.createElement("option",{name:"company",value:"all",defaultValue:!0},"All companies"),this.state.companies.map((function(e,t){return o.a.createElement("option",{name:"company",value:e,key:t},e)})))),this.props.companyName&&o.a.createElement("th",null,"Company"),o.a.createElement("th",null,"Created At"),o.a.createElement("th",null,o.a.createElement("select",{className:"custom-select mr-sm-2",onChange:this.changeDeadline},o.a.createElement("option",{name:"deadline-order",value:"0",defaultValue:!0},"Deadline (earliest)"),o.a.createElement("option",{name:"deadline-order",value:"1"},"Deadline (latest)"))))),o.a.createElement("tbody",null,this.state.jobs)))}}]),a}(n.Component)),N=(a(67),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={userName:n.props.userName,applications:[]},n.getApplications=n.getApplications.bind(Object(g.a)(n)),n.printApplications=n.printApplications.bind(Object(g.a)(n)),n.getApplications(),n}return Object(c.a)(a,[{key:"getApplications",value:function(){var e=this;h.a.get("/applications/list?userName=".concat(this.props.userName)).then((function(t){console.log(t),e.applications=t.data,e.setState({applications:t.data})})).catch((function(e){console.log(e)}))}},{key:"printRows",value:function(){var e=window.location.hostname;return this.state.applications.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,t.jobTitle),o.a.createElement("td",null,t.companyName),o.a.createElement("td",null,new Date(t.createdAt).toLocaleString()),o.a.createElement("td",null,o.a.createElement("a",{href:"http://"+e+":5000"+t.resume},"View")))}))}},{key:"printApplications",value:function(){return o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Company name"),o.a.createElement("th",null,"Date"),o.a.createElement("th",null,"Status"),o.a.createElement("th",null,"Resume")),this.printRows()))}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"My Applications"),o.a.createElement("br",null),0===this.state.applications.length?"You have no active applications.":this.printApplications())}}]),a}(n.Component)),C=a(33),w=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleCompanyWebsiteChange=function(e){n.setState({companyWebsite:e.target.value},(function(){}))},n.handleCompanySizeChange=function(e){n.setState({companySize:e.target.value},(function(){}))},n.handleCompanyHeadquatersChange=function(e){n.setState({companyHeadquaters:e.target.value},(function(){}))},n.handleCompanyFoundedChange=function(e){n.setState({companyFounded:e.target.value},(function(){}))},n.handleCompanyAboutChange=function(e){n.setState({companyAbout:e.target.value},(function(){}))},n.editCompany=function(){console.log(n.props.companyInfo);var e={companyName:n.props.companyInfo.name,companyAbout:n.state.companyAbout,companySize:n.state.companySize,companyFounded:n.state.companyFounded,companyHeadquaters:n.state.companyHeadquaters,companyWebsite:n.state.companyWebsite};h.a.post("/companies/edit",e).then((function(e){console.log("--Company edited successfully--"),document.getElementById("statusMessage").style.color="green",n.setState({message:"Company edited successfully!"})})).catch((function(e){document.getElementById("statusMessage").style.color="red",n.setState({message:"There was a problem completing your request. Please try again later."})})).finally((function(){window.scrollTo(0,0)}))},n.state={companyWebsite:n.props.companyInfo.website,companySize:n.props.companyInfo.size,companyHeadquaters:n.props.companyInfo.headquarters,companyFounded:n.props.companyInfo.founded,companyAbout:n.props.companyInfo.about,message:""},n}return Object(c.a)(a,[{key:"render",value:function(){return console.log(this.props.companyInfo),o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{id:"statusMessage"},this.state.message),o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"companyWebsite"},"Company Website"),o.a.createElement("input",{type:"text",className:"form-control",id:"companyWebsite",value:this.state.companyWebsite,onChange:this.handleCompanyWebsiteChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"companySize"},"Company Size"),o.a.createElement("select",{disabled:"student"===this.state.userType,className:"form-control",id:"companySize",value:this.state.companySize,onChange:this.handleCompanySizeChange},o.a.createElement("option",{value:"Self-employed"},"A: Self-employed"),o.a.createElement("option",{value:"1-10 employees"},"B: 1-10 employees"),o.a.createElement("option",{value:"11-50 employees"},"C: 11-50 employees"),o.a.createElement("option",{value:"51-200 employees"},"D: 51-200 employees"),o.a.createElement("option",{value:"201-500 employees"},"E: 201-500 employees"),o.a.createElement("option",{value:"501-1000 employees"},"F: 501-1000 employees"),o.a.createElement("option",{value:"1001-5000 employees"},"G: 1001-5000 employees"),o.a.createElement("option",{value:"5001-10,000 employees"},"H: 5001-10,000 employees"),o.a.createElement("option",{value:"10,001+ employees"},"I: 10,001+ employees"))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"companyHeadquaters"},"Headquaters Location"),o.a.createElement("input",{disabled:"student"===this.state.userType,type:"text",className:"form-control",id:"",value:this.state.companyHeadquaters,onChange:this.handleCompanyHeadquatersChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"companyFounded"},"Year Founded"),o.a.createElement("input",{disabled:"student"===this.state.userType,type:"text",className:"form-control",id:"companyFounded",value:this.state.companyFounded,onChange:this.handleCompanyFoundedChange})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"companyAbout"},"About Your Company"),o.a.createElement("textarea",{rows:"10",cols:"75",className:"form-control",id:"companyAbout",value:this.state.companyAbout,onChange:this.handleCompanyAboutChange})),o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.editCompany},"Save changes"),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),a}(n.Component),j=(a(29),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({favoritecolor:"yellow"})}),700)}},{key:"render",value:function(){var e=this.props.companyInfo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container",style:{width:"50vw",height:"50vh"}},o.a.createElement("h3",null,"Overview"),o.a.createElement("br",null),o.a.createElement("table",{className:"table table-borderless"},o.a.createElement("tbody",null,o.a.createElement("tr",{className:"overview-row"},o.a.createElement("th",null,"Website"),o.a.createElement("td",null,e.website),o.a.createElement("th",null,"Type"),o.a.createElement("td",null,e.type)),o.a.createElement("tr",{className:"overview-row"},o.a.createElement("th",null,"Size"),o.a.createElement("td",null,e.size),o.a.createElement("th",null,"Headquarters"),o.a.createElement("td",null,e.headquarters)),o.a.createElement("tr",{className:"overview-row"},o.a.createElement("th",null,"Founded"),o.a.createElement("td",null,e.founded),o.a.createElement("th",null,"Industry"),o.a.createElement("td",null,e.industry)))),o.a.createElement("br",null),o.a.createElement("hr",null),o.a.createElement("h5",null,"About"),o.a.createElement("p",null,this.props.companyInfo.about),o.a.createElement("hr",null),o.a.createElement("br",null)))}}]),a}(n.Component)),S=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={displayReviewForm:!1,displayReviews:!0,reviews:[{reviewStars:1,reviewDesc:"",user:""}],givenStars:3,givenDesc:"",viewReviewsError:""},n.addReview=n.addReview.bind(Object(g.a)(n)),n.postReview=n.postReview.bind(Object(g.a)(n)),n.handleStars=n.handleStars.bind(Object(g.a)(n)),n.handleReviewDesc=n.handleReviewDesc.bind(Object(g.a)(n)),n.getReviews(),n}return Object(c.a)(a,[{key:"addReview",value:function(){this.setState({displayReviewForm:!0})}},{key:"handleStars",value:function(e){this.setState({givenStars:e.target.value})}},{key:"handleReviewDesc",value:function(e){this.setState({givenDesc:e.target.value})}},{key:"postReview",value:function(){var e=this,t={userName:this.props.userInfo.userName,companyName:this.props.companyInfo.name,stars:this.state.givenStars,desc:this.state.givenDesc};h.a.post("/reviews/addReview",t).then((function(t){console.log(t.data),e.getReviews()})).catch((function(t){document.getElementById("viewReviewsError").style.color="red",e.setState({displayReviewForm:!1,displayReviews:!1,viewReviewsError:"There was a problem completing your request. Please try again later."}),window.scrollTo(0,0)}))}},{key:"getReviews",value:function(){var e=this;h.a.get("/reviews/getReviews?companyName=".concat(this.props.companyInfo.name)).then((function(t){if(console.log(t.data),t.data.length){var a=[];t.data.forEach((function(e){var t={reviewStars:e.stars,reviewDesc:e.desc,user:e.user};a.push(t)})),e.setState({reviews:a.reverse(),displayReviewForm:!1,displayReviews:!0})}else e.setState({displayReviewForm:!0,displayReviews:!1,viewReviewsError:""})})).catch((function(t){document.getElementById("viewCompany").style.color="red",e.setState({displayReviewForm:!1,displayReviews:!1,viewReviewsError:"There was a problem completing your request. Please try again later."}),window.scrollTo(0,0)}))}},{key:"render",value:function(){var e,t=this;return e=""===this.state.viewReviewsError&&this.state.displayReviewForm?"recruiter"!==this.props.userInfo.userType?o.a.createElement("form",{className:"myForm"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"stars"},"Rating [1-5]"),o.a.createElement("input",{type:"range",className:"form-control",id:"reviewStars",min:"1",max:"5",value:this.state.givenStars,onChange:this.handleStars})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"desc"},"Description"),o.a.createElement("textarea",{rows:"10",cols:"75",className:"form-control",id:"reviewDesc",value:this.state.givenDesc,onChange:this.handleReviewDesc})),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.postReview},"Post"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return t.setState({displayReviewForm:!1,displayReviews:!0})}},"View Reviews"),o.a.createElement("br",null),o.a.createElement("br",null)):o.a.createElement("h5",null,"No reviews added!"):""===this.state.viewReviewsError&&this.state.displayReviews?o.a.createElement("div",{className:"list-group"},this.state.reviews.map((function(e,t){return o.a.createElement("a",{key:t,href:"/#",id:"review-list",className:"list-group-item list-group-item-action flex-column align-items-start"},o.a.createElement("div",{className:"d-flex w-100 justify-content-between"},o.a.createElement("h5",null,e.user),o.a.createElement("small",null,"Rating: ",e.reviewStars)),o.a.createElement("p",null,e.reviewDesc))}))):o.a.createElement("p",{id:"viewReviewsError"},this.state.viewReviewsError),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},"recruiter"!==this.props.userInfo.userType&&o.a.createElement("button",{id:"add-review",class:"btn btn-primary float-right",onClick:this.addReview},"Add review"),o.a.createElement("h3",null,"Reviews"),o.a.createElement("br",null),o.a.createElement("hr",null),e))}}]),a}(n.Component),O=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).editCompany=function(){n.setState({companyEdit:!0})},n.state={currentTab:0,companyInfo:{name:"",website:"",type:"",size:"",headquarters:"",founded:"",industry:"",about:"",jobs:[{jobDesc:"",salary:"",jobTitle:"",location:{streetNumber:"",streetName:"",city:"",province:""}}]},errorMessage:"",companyEdit:!1,job:null},n.getCompanyInfo(),n.handleTabChange=n.handleTabChange.bind(Object(g.a)(n)),n.getCompanyInfo=n.getCompanyInfo.bind(Object(g.a)(n)),n.goBack=n.goBack.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.getElementsByClassName("companyInfo")[0].style.backgroundColor="rgb(240, 240, 240)"}},{key:"goBack",value:function(){this.props.goBack()}},{key:"handleTabChange",value:function(e){var t,a=document.getElementsByClassName("companyInfo"),n=Object(C.a)(a);try{for(n.s();!(t=n.n()).done;){t.value.style.backgroundColor="white"}}catch(o){n.e(o)}finally{n.f()}a[e].style.backgroundColor="rgb(240, 240, 240)",this.setState({currentTab:e})}},{key:"getCompanyInfo",value:function(){var e=this;h.a.get("/companies/info?companyName=".concat(this.props.companyName)).then((function(t){console.log("__got data__"),console.log(t.data),e.setState((function(e){var a=Object.assign({},e.companyInfo);return console.log(t.data),a.name=t.data.companyName,a.website=t.data.companyWebsite,a.type=t.data.companyType,a.size=t.data.companySize,a.headquarters=t.data.companyHeadquaters,a.founded=t.data.companyFounded,a.industry=t.data.companySector,a.about=t.data.companyAbout,{companyInfo:a}}))})).catch((function(t){document.getElementById("viewCompany").style.color="red",e.setState({errorMessage:"There was a problem completing your request. Please try again later.",companyEdit:!1}),window.scrollTo(0,0)}))}},{key:"render",value:function(){var e,t=this,a=this.props.companyName;return this.state.companyEdit?(console.log("Serving edit company"),e=o.a.createElement(w,{companyInfo:this.state.companyInfo})):e=0===this.state.currentTab?o.a.createElement(j,{companyInfo:this.state.companyInfo}):o.a.createElement(S,{companyInfo:this.state.companyInfo,userInfo:this.props.userInfo}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,o.a.createElement("a",{href:"/#"},a)),o.a.createElement("hr",null),o.a.createElement("h5",{id:"viewCompany"},this.state.errorMessage),""===this.state.errorMessage&&!this.state.companyEdit&&o.a.createElement("div",null,o.a.createElement("nav",{className:"navbar navbar-light navbar-expand-sm"},"recruiter"===!this.props.source&&o.a.createElement("button",{id:"back-to-job",className:"btn btn-primary",onClick:function(){return t.goBack()}},"Back to Job posting"),"recruiter"===this.props.source&&o.a.createElement("button",{id:"edit-company",className:"btn btn-primary",onClick:function(){return t.editCompany()}},"Edit Company"),o.a.createElement("ul",{className:"nav nav-tabs ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link navbar-right userNav companyInfo",onClick:function(){return t.handleTabChange(0)}},"Overview")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link navbar-right userNav companyInfo",onClick:function(){return t.handleTabChange(1)}},"Reviews")))),o.a.createElement("br",null),o.a.createElement("br",null)),""===this.state.errorMessage&&e))}}]),a}(n.Component),T=a(13);a(16);function k(e,t,a,n){this.address=e,this.city=t,this.province=a,this.postalCode=n}var D=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleJobDesc=function(e){n.setState({jobDesc:e.target.value})},n.handleSalary=function(e){n.setState({salary:e.target.value})},n.handleDeadline=function(e){console.log(e.target.value),n.setState({deadline:e.target.value})},n.handleLocation=function(e){var t=Object(T.a)({},n.state).location,a=e.target,o=a.name,l=a.value;t[o]=l,n.setState({location:t})},n.handleJobCreation=function(e){console.log(n.state),e.preventDefault();var t={companyName:n.props.currJob.companyName,jobTitle:n.props.currJob.jobTitle,jobDesc:n.state.jobDesc,salary:n.state.salary,location:n.state.location,deadline:n.state.deadline};h.a.post("/jobs/editJob",t).then((function(e){console.log(e.data),document.getElementById("jobPostingMessage").style.color="green",n.setState({jobTitle:"",jobDesc:"",salary:"",location:new k("","","","",""),deadline:"",jobPostingMessage:"Changes successfully saved!"})})).catch((function(e){document.getElementById("jobPostingMessage").style.color="red",n.setState({jobPostingMessage:"There was an error editing the job. Please try again."})})).finally((function(){window.scrollTo(0,0)}))},n.state={jobTitle:n.props.currJob.jobTitle,jobDesc:n.props.currJob.jobDesc,salary:n.props.currJob.salary,location:n.props.currJob.location,jobPostingMessage:"",deadline:n.props.currJob.deadline},n.handleJobDesc=n.handleJobDesc.bind(Object(g.a)(n)),n.handleSalary=n.handleSalary.bind(Object(g.a)(n)),n.handleLocation=n.handleLocation.bind(Object(g.a)(n)),n.handleJobCreation=n.handleJobCreation.bind(Object(g.a)(n)),n.handleDeadline=n.handleDeadline.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Edit Job posting"),o.a.createElement("h5",{id:"jobPostingMessage"},this.state.jobPostingMessage),o.a.createElement("form",{className:"myForm"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"CompanyName"},"Company Name"),o.a.createElement("input",{type:"text",disabled:!0,className:"form-control",id:"companyName",value:this.props.currJob.companyName}),o.a.createElement("label",{htmlFor:"CompanyName"},"Job Title"),o.a.createElement("input",{type:"text",disabled:!0,className:"form-control",id:"jobTitle",value:this.state.jobTitle}),o.a.createElement("label",{htmlFor:"JobDesc"},"Job Description"),o.a.createElement("textarea",{rows:"10",cols:"75",className:"form-control",id:"jobDesc",value:this.state.jobDesc,onChange:this.handleJobDesc}),o.a.createElement("label",{htmlFor:"Location"},"Street"),o.a.createElement("input",{type:"text",className:"form-control",name:"address",value:this.state.location.address,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Location"},"City"),o.a.createElement("input",{type:"text",className:"form-control",name:"city",value:this.state.location.city,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Location"},"Province"),o.a.createElement("input",{type:"text",className:"form-control",name:"province",value:this.state.location.province,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Location"},"Postal Code"),o.a.createElement("input",{type:"text",className:"form-control",name:"postalCode",value:this.state.location.postalCode,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Salary"},"Salary per month"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"$CAD",id:"SALARY",value:this.state.salary,onChange:this.handleSalary}),o.a.createElement("label",{htmlFor:"Salary"},"Deadline"),o.a.createElement("input",{type:"date",className:"form-control",id:"deadline",value:this.state.deadline,onChange:this.handleDeadline})),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleJobCreation},"Edit Job"),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),a}(n.Component),J=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).goBack=n.goBack.bind(Object(g.a)(n)),n.onFileChange=n.onFileChange.bind(Object(g.a)(n)),n.onSubmit=n.onSubmit.bind(Object(g.a)(n)),n.state={userName:n.props.userInfo.userName,jobTitle:n.props.currJob.jobTitle,companyName:n.props.currJob.companyName,resume:"",message:""},n}return Object(c.a)(a,[{key:"goBack",value:function(){this.props.goBack()}},{key:"onFileChange",value:function(e){this.setState({resume:e.target.files[0]})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a=new FormData;a.append("userName",this.state.userName),a.append("jobTitle",this.state.jobTitle),a.append("companyName",this.state.companyName),a.append("resume",this.state.resume),h.a.post("/applications/upload",a,{}).then((function(e){console.log(e),document.getElementById("message").style.color="green",t.setState({userName:"",jobTitle:"",companyName:"",resume:"",message:"Applied successfully."})}))}},{key:"render",value:function(){var e=this,t=this.props.userInfo.userName,a=this.props.currJob.jobTitle,n=this.props.currJob.companyName;return o.a.createElement("div",{className:"container"},o.a.createElement("h5",{id:"message"},this.state.message),o.a.createElement("div",{className:"row"},o.a.createElement("form",{onSubmit:this.onSubmit},o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{id:"back-to-job",className:"btn btn-primary",onClick:function(){return e.goBack()}},"Back to Job posting")),o.a.createElement("div",{className:"form-group"},"User Name: ",t),o.a.createElement("div",{className:"form-group"},"Job Title: ",a),o.a.createElement("div",{className:"form-group"},"Company Name: ",n),o.a.createElement("div",{className:"form-group"},o.a.createElement("input",{type:"file",onChange:this.onFileChange}),o.a.createElement("p",null,"Only allow to upload pdf file")),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Upload")))))}}]),a}(n.Component),R={USER_PROFILE:0,VIEW_APPLICATIONS:1,VIEW_JOBS:2,VIEW_JOBS_MAP:3,JOB:4,CREATE_JOB:5,COMPANY_INFO:6},F=1,P=2,A=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={viewCompanyInfo:!1,applyToJob:!1,editJob:!1,deleted:!1,errorMessage:"",applyDup:!1,applied:[]},n.reRender=n.reRender.bind(Object(g.a)(n)),n.deleteJob=n.deleteJob.bind(Object(g.a)(n)),n.checkApplyDup=n.checkApplyDup.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"reRender",value:function(){this.setState({viewCompanyInfo:!1,applyToJob:!1,editJob:!1,errorMessage:"",applyDup:!1,applied:[]})}},{key:"checkApplyDup",value:function(){var e=this;h.a.get("/applications/list?userName=".concat(this.props.userName)).then((function(t){if(console.log(t),e.applied=t.data,0===e.applied.length)e.setState({applyDup:!1,applyToJob:!0});else for(var a=0;a<e.applied.length;a++){if(e.applied[a].userName===e.props.userName&&e.applied[a].jobTitle===e.props.job.jobTitle){e.setState({applyDup:!0,applyToJob:!1,applied:t.data});break}e.setState({applyDup:!1,applyToJob:!0,applied:t.data})}console.log("checkpoint"),console.log(e.state.applyDup),console.log(e.state.applyToJob)})).catch((function(e){console.log(e)}))}},{key:"deleteJob",value:function(){var e=this,t={jobTitle:this.props.job.jobTitle,companyName:this.props.job.companyName};h.a.post("/jobs/delete",t).then((function(t){console.log(t.data),e.setState({deleted:!0,errorMessage:""})})).catch((function(t){e.setState({deleted:!1,errorMessage:"Posting could not be removed. Please try again"})})).finally((function(){window.scrollTo(0,0)}))}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({favoritecolor:"yellow"})}),700)}},{key:"render",value:function(){var e,t=this,a=this.props.job.jobTitle,n=this.props.job.jobDesc,l=this.props.job.salary,r=this.props.job.deadline||"Not specified",s=this.props.job.companyName,c={userName:this.props.userName,userType:this.props.userType},i=this.props.job.location,m=i.address+", "+i.city+", "+i.province,u={jobTitle:a,jobDesc:n,companyName:s,salary:l,deadline:r,location:i};return e=this.props.userType===F&&this.state.applyToJob&&!this.state.applyDup?o.a.createElement(J,{userInfo:c,currJob:u,goBack:this.reRender}):this.props.userType===F&&this.state.viewCompanyInfo?o.a.createElement(O,{companyName:s,userInfo:c,goBack:this.reRender}):this.props.userType===P&&this.state.editJob?o.a.createElement(D,{currJob:u}):this.props.userType===F&&!this.state.applyToJob&&this.state.applyDup?o.a.createElement("div",{style:{width:"50vw",height:"50vh"}},o.a.createElement("h1",null,o.a.createElement("a",{href:"/#"},a)),o.a.createElement("hr",null),this.state.deleted&&o.a.createElement("p",{id:"jobDeleteMessage"},"The posting has been removed. "),o.a.createElement("p",{id:"errorMessage"},this.state.errorMessage),!this.state.deleted&&o.a.createElement("table",{className:"table table-borderless"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Job Title"),o.a.createElement("td",null,a),o.a.createElement("th",null,"Salary"),o.a.createElement("td",null,l)),o.a.createElement("tr",null,o.a.createElement("th",null,"Deadline"),o.a.createElement("td",null,r),o.a.createElement("th",null,"Company Name"),o.a.createElement("td",null,s)),o.a.createElement("tr",null,o.a.createElement("th",null,"Location"),o.a.createElement("td",null,m)))),o.a.createElement("br",null),o.a.createElement("hr",null),this.props.userType===F&&!this.state.deleted&&o.a.createElement("button",{class:"btn btn-primary",onClick:function(){return t.setState({viewCompanyInfo:!0})}},"View Company Info"),this.props.userType===F&&!this.state.deleted&&o.a.createElement("button",{class:"btn btn-secondary",onClick:function(){t.checkApplyDup(),t.reRender()}},"Applied"),o.a.createElement("br",null),o.a.createElement("br",null),!this.state.deleted&&o.a.createElement("h4",null,"Job Description"),o.a.createElement("br",null),!this.state.deleted&&o.a.createElement("p",null,n),o.a.createElement("hr",null),o.a.createElement("br",null)):o.a.createElement("div",{style:{width:"50vw",height:"50vh"}},o.a.createElement("h1",null,o.a.createElement("a",{href:"/#"},a)),o.a.createElement("hr",null),this.state.deleted&&o.a.createElement("p",{id:"jobDeleteMessage"},"The posting has been removed. "),o.a.createElement("p",{id:"errorMessage"},this.state.errorMessage),!this.state.deleted&&o.a.createElement("table",{className:"table table-borderless"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Job Title"),o.a.createElement("td",null,a),o.a.createElement("th",null,"Salary"),o.a.createElement("td",null,l)),o.a.createElement("tr",null,o.a.createElement("th",null,"Deadline"),o.a.createElement("td",null,r),o.a.createElement("th",null,"Company Name"),o.a.createElement("td",null,s)),o.a.createElement("tr",null,o.a.createElement("th",null,"Location"),o.a.createElement("td",null,m)))),o.a.createElement("br",null),o.a.createElement("hr",null),this.props.userType===F&&!this.state.deleted&&o.a.createElement("button",{class:"btn btn-primary",onClick:function(){return t.setState({viewCompanyInfo:!0})}},"View Company Info"),this.props.userType===F&&!this.state.deleted&&o.a.createElement("button",{class:"btn btn-primary",onClick:function(){t.checkApplyDup(),t.reRender()}},"Apply"),this.props.userType===P&&!this.state.deleted&&o.a.createElement("button",{class:"btn btn-primary",onClick:function(){return t.setState({editJob:!0})}},"Edit Job"),this.props.userType===P&&!this.state.deleted&&o.a.createElement("button",{class:"btn btn-danger",onClick:function(){return t.deleteJob()}},"Delete"),o.a.createElement("br",null),o.a.createElement("br",null),!this.state.deleted&&o.a.createElement("h4",null,"Job Description"),o.a.createElement("br",null),!this.state.deleted&&o.a.createElement("p",null,n),o.a.createElement("hr",null),o.a.createElement("br",null)),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},e))}}]),a}(n.Component),U=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={currentTab:R.VIEW_JOBS,viewingJob:null},n.handleTabChange=n.handleTabChange.bind(Object(g.a)(n)),n.handleUserEdit=n.handleUserEdit.bind(Object(g.a)(n)),n.handleCancel=n.handleCancel.bind(Object(g.a)(n)),n.handleViewJob=n.handleViewJob.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"handleTabChange",value:function(e){this.setState({currentTab:e})}},{key:"handleCancel",value:function(){this.setState({currentTab:R.VIEW_JOBS})}},{key:"handleViewJob",value:function(e){this.setState({viewingJob:e}),this.setState({currentTab:R.JOB})}},{key:"handleUserEdit",value:function(e){this.props.handleUserEdit(e)}},{key:"render",value:function(){var e=this,t=this.props.user;return o.a.createElement(o.a.Fragment,null,o.a.createElement("nav",{className:"navbar navbar-light navbar-expand-sm justify-content-end"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav edit",onClick:function(){return e.handleTabChange(R.USER_PROFILE)}},"Edit Profile")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav",onClick:function(){return e.handleTabChange(R.VIEW_JOBS)}},"View Jobs")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav",onClick:function(){return e.handleTabChange(R.VIEW_APPLICATIONS)}},"My Applications")))),o.a.createElement("br",null),o.a.createElement("div",{className:"container"},this.state.currentTab===R.USER_PROFILE&&o.a.createElement(E,{user:t,handleCancel:this.handleCancel,handleUserEdit:this.handleUserEdit}),this.state.currentTab===R.VIEW_JOBS&&o.a.createElement(v,{onSelectJob:this.handleViewJob}),this.state.currentTab===R.VIEW_APPLICATIONS&&o.a.createElement(N,{userName:t.userName}),this.state.currentTab===R.JOB&&o.a.createElement("div",null,o.a.createElement(A,{userName:t.userName,userType:F,job:this.state.viewingJob}))))}}]),a}(n.Component);function I(e,t,a,n){this.address=e,this.city=t,this.province=a,this.postalCode=n}var L=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleJobTitle=function(e){n.setState({jobTitle:e.target.value})},n.handleJobDesc=function(e){n.setState({jobDesc:e.target.value})},n.handleSalary=function(e){n.setState({salary:e.target.value})},n.handleDeadline=function(e){console.log(e.target.value),n.setState({deadline:e.target.value})},n.handleLocation=function(e){var t=Object(T.a)({},n.state).location,a=e.target,o=a.name,l=a.value;t[o]=l,n.setState({location:t})},n.handleJobCreation=function(e){console.log(n.state),e.preventDefault();var t={companyName:n.props.companyName,jobTitle:n.state.jobTitle,jobDesc:n.state.jobDesc,salary:n.state.salary,location:n.state.location,deadline:n.state.deadline};h.a.post("/jobs/addJob",t).then((function(e){console.log(e.data),document.getElementById("jobPostingMessage").style.color="green",n.setState({jobTitle:"",jobDesc:"",salary:"",location:new I("","","","",""),deadline:"",jobPostingMessage:"Congratulations! Your job is now live."})})).catch((function(e){document.getElementById("jobPostingMessage").style.color="red",n.setState({jobPostingMessage:"There was an error posting the job. Please try again."})})).finally((function(){window.scrollTo(0,0)}))},n.state={jobTitle:"",jobDesc:"",salary:"",location:new I("","","",""),jobPostingMessage:"",deadline:""},n.handleJobTitle=n.handleJobTitle.bind(Object(g.a)(n)),n.handleJobDesc=n.handleJobDesc.bind(Object(g.a)(n)),n.handleSalary=n.handleSalary.bind(Object(g.a)(n)),n.handleLocation=n.handleLocation.bind(Object(g.a)(n)),n.handleJobCreation=n.handleJobCreation.bind(Object(g.a)(n)),n.handleDeadline=n.handleDeadline.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Add Job posting"),o.a.createElement("h5",{id:"jobPostingMessage"},this.state.jobPostingMessage),o.a.createElement("form",{className:"myForm"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"CompanyName"},"Company Name"),o.a.createElement("input",{type:"text",disabled:!0,className:"form-control",id:"companyName",value:this.props.companyName}),o.a.createElement("label",{htmlFor:"CompanyName"},"Job Title"),o.a.createElement("input",{type:"text",className:"form-control",id:"jobTitle",value:this.state.jobTitle,onChange:this.handleJobTitle}),o.a.createElement("label",{htmlFor:"JobDesc"},"Job Description"),o.a.createElement("textarea",{rows:"10",cols:"75",className:"form-control",id:"jobDesc",value:this.state.jobDesc,onChange:this.handleJobDesc}),o.a.createElement("label",{htmlFor:"Location"},"Street"),o.a.createElement("input",{type:"text",className:"form-control",name:"address",value:this.state.location.address,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Location"},"City"),o.a.createElement("input",{type:"text",className:"form-control",name:"city",value:this.state.location.city,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Location"},"Province"),o.a.createElement("input",{type:"text",className:"form-control",name:"province",value:this.state.location.province,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Location"},"Postal Code"),o.a.createElement("input",{type:"text",className:"form-control",name:"postalCode",value:this.state.location.postalCode,onChange:this.handleLocation}),o.a.createElement("label",{htmlFor:"Salary"},"Salary per month"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"INR",id:"SALARY",value:this.state.salary,onChange:this.handleSalary}),o.a.createElement("label",{htmlFor:"Salary"},"Deadline"),o.a.createElement("input",{type:"date",className:"form-control",id:"deadline",value:this.state.deadline,onChange:this.handleDeadline})),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleJobCreation},"Publish Job"),o.a.createElement("br",null),o.a.createElement("br",null)))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).applyJobFilter=function(){var e=window.location.hostname,t=document.getElementsByName("created-order");Object(f.a)(t)[0].selected=!0;var a=document.getElementsByName("job"),l=Object(f.a)(a).find((function(e){return!0===e.selected})).value,r=[],s=(r="all"!==l?n.state.allApplicants.filter((function(e){return e.jobTitle===l})):n.state.allApplicants).map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,t.userName),o.a.createElement("td",null,t.jobTitle),o.a.createElement("td",null,t.companyName),o.a.createElement("td",null,t.createdAt?new Date(t.createdAt).toLocaleString():"Not specified"),o.a.createElement("td",null,o.a.createElement("a",{href:"http://"+e+":5000"+t.resume},"View")))}));n.setState({applicants:s,applicantsClean:r})},n.sortCreatedTime=function(){var e=window.location.hostname,t=document.getElementsByName("created-order"),a=Object(f.a)(t).find((function(e){return!0===e.selected})).value,l=n.state.jobs,r=n.state.applicantsClean;r.sort((function(e,t){return 0==a?new Date(e.createdAt)-new Date(t.createdAt):new Date(t.createdAt)-new Date(e.createdAt)}));var s=r.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,t.userName),o.a.createElement("td",null,t.jobTitle),o.a.createElement("td",null,t.companyName),o.a.createElement("td",null,t.createdAt?new Date(t.createdAt).toLocaleString():"Not specified"),o.a.createElement("td",null,o.a.createElement("a",{href:"http://"+e+":5000"+t.resume},"View")))}));n.setState({applicants:s,jobs:l})},n.state={companyName:n.props.companyName,applicants:[],allApplicants:[],jobs:[],applicantsClean:[]},n.getApplications=n.getApplications.bind(Object(g.a)(n)),n.printApplicants=n.printApplicants.bind(Object(g.a)(n)),n.getApplications(),n}return Object(c.a)(a,[{key:"getApplications",value:function(){var e=this;h.a.get("/applications/applicant?companyName=".concat(this.props.companyName)).then((function(t){console.log(t),e.applicants=t,e.printApplicants(t.data)})).catch((function(e){console.log(e)}))}},{key:"printApplicants",value:function(e){var t=window.location.hostname,a=[];e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})),e.forEach((function(e){-1===a.indexOf(e.jobTitle)&&a.push(e.jobTitle)}));var n=e.map((function(e,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,e.userName),o.a.createElement("td",null,e.jobTitle),o.a.createElement("td",null,e.companyName),o.a.createElement("td",null,e.createdAt?new Date(e.createdAt).toLocaleString():"Not specified"),o.a.createElement("td",null,o.a.createElement("a",{href:"http://"+t+":5000"+e.resume},"View")))}));this.setState({applicants:n,allApplicants:e,jobs:a,applicantsClean:e})}},{key:"render",value:function(){return Array.isArray(this.state.applicants)&&0===this.state.applicants.length?o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"View Applicants"),o.a.createElement("br",null),this.props.companyName&&o.a.createElement("p",null,"No Applicants!")):o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"View Applicants"),o.a.createElement("br",null),o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"User Name"),!this.props.jobTitle&&o.a.createElement("th",null,o.a.createElement("select",{className:"custom-select mr-sm-2",onChange:this.applyJobFilter},o.a.createElement("option",{name:"job",value:"all",defaultValue:!0},"All Jobs"),this.state.jobs.map((function(e,t){return o.a.createElement("option",{name:"job",value:e,key:t},e)})))),this.props.jobTitle&&o.a.createElement("th",null,"Job Title"),o.a.createElement("th",null,"Company Name"),o.a.createElement("th",null,o.a.createElement("select",{className:"custom-select mr-sm-2",onChange:this.sortCreatedTime},o.a.createElement("option",{name:"created-order",value:"0",defaultValue:!0},"Applied Time (earliest)"),o.a.createElement("option",{name:"created-order",value:"1"},"Applied Time (latest)"))),o.a.createElement("th",null,"Resume"))),o.a.createElement("tbody",null,this.state.applicants)))}}]),a}(n.Component),M=function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={currentTab:R.CREATE_JOB,viewingJob:null},n.handleTabChange=n.handleTabChange.bind(Object(g.a)(n)),n.handleCancel=n.handleCancel.bind(Object(g.a)(n)),n.handleUserEdit=n.handleUserEdit.bind(Object(g.a)(n)),n.handleViewJob=n.handleViewJob.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"handleTabChange",value:function(e){this.setState({currentTab:e})}},{key:"handleCancel",value:function(){this.setState({currentTab:R.CREATE_JOB})}},{key:"handleUserEdit",value:function(e){this.props.handleUserEdit(e)}},{key:"handleViewJob",value:function(e){this.setState({viewingJob:e}),this.setState({currentTab:R.JOB})}},{key:"render",value:function(){var e=this,t=this.props.user;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("nav",{className:"navbar navbar-light navbar-expand-sm justify-content-end"},o.a.createElement("ul",{className:"navbar-nav"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav edit",onClick:function(){return e.handleTabChange(R.USER_PROFILE)}},"Edit Profile")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav",onClick:function(){return e.handleTabChange(R.CREATE_JOB)}},"Post a Job")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav",onClick:function(){return e.handleTabChange(R.VIEW_JOBS)}},"View Posted Jobs")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav",onClick:function(){return e.handleTabChange(R.COMPANY_INFO)}},"View Company")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link userNav",onClick:function(){return e.handleTabChange(R.VIEW_APPLICANTS)}},"View Applicants")))),o.a.createElement("br",null),o.a.createElement("div",{className:"container"},this.state.currentTab===R.USER_PROFILE&&o.a.createElement(E,{user:t,handleCancel:this.handleCancel,handleUserEdit:this.handleUserEdit}),this.state.currentTab===R.CREATE_JOB&&o.a.createElement(L,{companyName:t.companyName}),this.state.currentTab===R.VIEW_JOBS&&o.a.createElement(v,{onSelectJob:this.handleViewJob,companyName:t.companyName}),this.state.currentTab===R.JOB&&o.a.createElement("div",null,o.a.createElement(A,{userName:t.userName,userType:P,job:this.state.viewingJob})),this.state.currentTab===R.COMPANY_INFO&&o.a.createElement(O,{companyName:t.companyName,userInfo:t,source:"recruiter"}),this.state.currentTab===R.VIEW_APPLICANTS&&o.a.createElement(B,{companyName:t.companyName}))))}}]),a}(n.Component),_=(a(68),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={shared_var:"init",user:n.props.userobj},n.handleUserEdit=n.handleUserEdit.bind(Object(g.a)(n)),n}return Object(c.a)(a,[{key:"updateShared",value:function(e){this.setState({shared_var:e})}},{key:"handleUserEdit",value:function(e){this.setState((function(t){var a=Object.assign({},t.user);return a.userName=e.userName,a.userPassword=e.userPassword,a.companyName=e.companyName,{user:a}}))}},{key:"componentDidMount",value:function(){console.log("Dashboard componentDidMount"),console.log("user:",this.state.user)}},{key:"componentWillUnmount",value:function(){console.log("Dashboard componentwillunmount")}},{key:"render",value:function(){var e,t=this.state.user;return console.log(t.userType),e="recruiter"===t.userType?o.a.createElement(M,{user:t,handleUserEdit:this.handleUserEdit}):o.a.createElement(U,{user:t,handleUserEdit:this.handleUserEdit}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Welcome, ",t.userName,"!"),o.a.createElement("hr",null),e))}}]),a}(n.Component)),x=(a(69),function(e){Object(m.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onSuccessful_Register=function(){n.setState({showRegister:!1,showLogin:!0,showUpdateNavBar:!1,showDashboard:!1})},n.onSuccessful_Login=function(){n.setState({showLogin:!1,showRegister:!1,showUpdateNavBar:!0,showDashboard:!0})},n.onSuccessful_Logout=function(){n.setState({showLogin:!0,showRegister:!1,showUpdateNavBar:!1,showDashboard:!1})},n.onRegisterClick=function(){n.setState({showLogin:!1,showRegister:!0,showUpdateNavBar:!1,showDashboard:!1})},n.onLoginClick=function(){n.setState({showLogin:!0,showRegister:!1,showUpdateNavBar:!1,showDashboard:!1})},n.onLogOutClick=function(){n.setState({showUpdateNavBar:!1,showLogin:!0,showRegister:!1,showDashboard:!1}),h.a.post("/users/logout",n.state.userobj).then((function(e){void 0===e||null===e?alert("USER IS UNDEFINED OR NULL"):(console.log("Loggin out ....... user: "),console.log("USER:",e.data),n.updateUserObj(e.data))})).catch((function(e){console.log(e),alert("Please check user")}))},n.updateUserObj=function(e){n.setState({userobj:e})},n.state={showUpdateNavBar:!1,showLogin:!0,showRegister:!1,showDashboard:!1,userobj:{}},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement(u.a,null,o.a.createElement(p,{showUpdateNavBar:this.state.showUpdateNavBar,onRegisterClick:this.onRegisterClick,onLogOutClick:this.onLogOutClick,onLoginClick:this.onLoginClick}))),o.a.createElement("div",{className:"row content"},(this.state.showLogin||this.state.showRegister)&&o.a.createElement(y,{showLogin:this.state.showLogin,showRegister:this.state.showRegister,showDashboard:this.state.showDashboard,onRegisterClick:this.onRegisterClick,onLoginClick:this.onLoginClick,updateUserObj:this.updateUserObj,onSuccessful_Login:this.onSuccessful_Login,onSuccessful_Register:this.onSuccessful_Register}),this.state.showDashboard&&o.a.createElement(_,{userobj:this.state.userobj})))}}]),a}(n.Component));r.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.12f42a9a.chunk.js.map