{"ast":null,"code":"import _classCallCheck from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import axios from\"axios\";import\"./LoginForm.css\";import RegisterForm from\"./RegisterForm\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(props){var _this;_classCallCheck(this,LoginForm);_this=_super.call(this,props);_this.handleUserNameChange=function(event){// console.log(event.target.value);\n_this.setState({userName:event.target.value});};_this.handleUserPasswordChange=function(event){// console.log(event.target.value);\n_this.setState({userPassword:event.target.value});};_this.updateShowUpdateNavBar=function(value){_this.props.updateShowUpdateNavBar(value);};_this.onSuccessful_Login=function(){_this.props.onSuccessful_Login();};_this.updateUserObj=function(obj){_this.props.updateUserObj(obj);};_this.onSuccessful_Register=function(){_this.props.onSuccessful_Register();};_this.handleLogin=function(event){event.preventDefault();var user={userName:_this.state.userName,userPassword:_this.state.userPassword};console.log(user);// check user credentials\n// if okay, direct to the next page\naxios.post(\"/users/authenticate\",user).then(function(res){console.log(\"USER:\",res.data);if(res===undefined||res===null){alert(\"USER IS NOT REGISTERED\");}else{console.log(\"Signing in ....... with user: \");_this.updateUserObj(res.data);_this.onSuccessful_Login();}}).catch(function(err){console.log(err);alert(\"Please check your username or password\");});};_this.onRegisterClick=function(){_this.props.onRegisterClick();};_this.onLoginClick=function(){_this.props.onLoginClick();};_this.state={userName:\"\",userPassword:\"\"};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.props.showRegister&&/*#__PURE__*/React.createElement(RegisterForm,{onSuccessful_Register:this.onSuccessful_Register,onLoginClick:this.onLoginClick}),this.props.showLogin&&/*#__PURE__*/React.createElement(\"form\",{className:\"myLoginForm myForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loginform-group form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"loginform-label\",htmlFor:\"Username\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"loginform-control form-control\",id:\"username\",value:this.state.userName,onChange:this.handleUserNameChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"loginform-group form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"loginform-label\",htmlFor:\"Password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",className:\"loginform-control form-control\",id:\"userPassword\",value:this.state.userPassword,onChange:this.handleUserPasswordChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success loginform-btn\",onClick:this.handleLogin},\"Login\"),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary loginform-btn\",onClick:this.onRegisterClick},\"Register\")));}}]);return LoginForm;}(Component);export{LoginForm as default};","map":{"version":3,"sources":["/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/src/Login/LoginForm.js"],"names":["React","Component","axios","RegisterForm","LoginForm","props","handleUserNameChange","event","setState","userName","target","value","handleUserPasswordChange","userPassword","updateShowUpdateNavBar","onSuccessful_Login","updateUserObj","obj","onSuccessful_Register","handleLogin","preventDefault","user","state","console","log","post","then","res","data","undefined","alert","catch","err","onRegisterClick","onLoginClick","showRegister","showLogin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"./LoginForm.css\";\nimport RegisterForm from \"./RegisterForm\";\n\n\nexport default class LoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userName: \"\",\n      userPassword: \"\"\n    };\n  }\n\n  handleUserNameChange = event => {\n    // console.log(event.target.value);\n    this.setState({ userName: event.target.value });\n  };\n\n  handleUserPasswordChange = event => {\n    // console.log(event.target.value);\n    this.setState({ userPassword: event.target.value });\n  };\n\n  updateShowUpdateNavBar = value => {\n    this.props.updateShowUpdateNavBar(value);\n  };\n\n  onSuccessful_Login = () => {\n    this.props.onSuccessful_Login();\n  };\n\n  updateUserObj = obj => {\n    this.props.updateUserObj(obj);\n  };\n\n  onSuccessful_Register = () => {\n    this.props.onSuccessful_Register();\n  }\n\n  handleLogin = event => {\n    event.preventDefault();\n\n    const user = {\n      userName: this.state.userName,\n      userPassword: this.state.userPassword\n    };\n\n    console.log(user);\n\n    // check user credentials\n    // if okay, direct to the next page\n    axios\n      .post(\"/users/authenticate\", user)\n      .then(res => {\n        console.log(\"USER:\", res.data);\n\n        if (res === undefined || res === null) {\n          alert(\"USER IS NOT REGISTERED\");\n        } else {\n          console.log(\"Signing in ....... with user: \");\n        \n\n          this.updateUserObj(res.data);\n          this.onSuccessful_Login();\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        alert(\"Please check your username or password\");\n      });\n  };\n\n  onRegisterClick = () => {\n    this.props.onRegisterClick();\n  }\n\n  onLoginClick = () => {\n    this.props.onLoginClick();\n  }\n  render() {\n    return (\n      <React.Fragment>\n        \n\n        {this.props.showRegister && (\n            <RegisterForm \n                onSuccessful_Register={this.onSuccessful_Register}\n                onLoginClick = {this.onLoginClick} />\n          )}\n          \n        {this.props.showLogin && (\n          <form className=\"myLoginForm myForm\">\n            <div className=\"loginform-group form-group\">\n              <label className= \"loginform-label\" htmlFor=\"Username\">Username</label>\n              <input\n                type=\"text\"\n                className=\"loginform-control form-control\"\n                id=\"username\"\n                value={this.state.userName}\n                onChange={this.handleUserNameChange}\n              />\n            </div>\n            <div className=\"loginform-group form-group\">\n              <label className= \"loginform-label\" htmlFor=\"Password\">Password</label>\n              <input\n                type=\"password\"\n                className=\"loginform-control form-control\"\n                id=\"userPassword\"\n                value={this.state.userPassword}\n                onChange={this.handleUserPasswordChange}\n              />\n            </div>\n\n            <button\n              type=\"button\"\n              className=\"btn btn-success loginform-btn\"\n              onClick={this.handleLogin}\n            >\n              Login\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary loginform-btn\"\n              onClick={this.onRegisterClick}\n            >\n              Register\n            </button>\n          </form>\n        )}\n      \n      </React.Fragment>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}