{"ast":null,"code":"import _objectSpread from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import'./CreateJob.css';function Location(address,city,pr,pcode){this.address=address;this.city=city;this.province=pr;this.postalCode=pcode;}var EditJob=/*#__PURE__*/function(_Component){_inherits(EditJob,_Component);var _super=_createSuper(EditJob);function EditJob(props){var _this;_classCallCheck(this,EditJob);_this=_super.call(this,props);_this.handleJobDesc=function(event){_this.setState({jobDesc:event.target.value});};_this.handleSalary=function(event){_this.setState({salary:event.target.value});};_this.handleDeadline=function(event){console.log(event.target.value);_this.setState({deadline:event.target.value});};_this.handleLocation=function(e){var _this$state=_objectSpread({},_this.state),location=_this$state.location;var currentLocation=location;var _e$target=e.target,name=_e$target.name,value=_e$target.value;currentLocation[name]=value;_this.setState({location:currentLocation});};_this.handleJobCreation=function(event){console.log(_this.state);event.preventDefault();var job={companyName:_this.props.currJob.companyName,jobTitle:_this.props.currJob.jobTitle,jobDesc:_this.state.jobDesc,salary:_this.state.salary,location:_this.state.location,deadline:_this.state.deadline};axios.post('/jobs/editJob',job).then(function(res){console.log(res.data);document.getElementById(\"jobPostingMessage\").style.color=\"green\";_this.setState({jobTitle:'',jobDesc:'',salary:'',location:new Location(\"\",\"\",\"\",\"\",\"\"),deadline:\"\",jobPostingMessage:\"Changes successfully saved!\"});}).catch(function(err){// display error message\ndocument.getElementById(\"jobPostingMessage\").style.color=\"red\";_this.setState({jobPostingMessage:\"There was an error editing the job. Please try again.\"});}).finally(function(){window.scrollTo(0,0);});// redirect the user back to their homepage after adding the job-- if this is the default page then reset the form\n// window.location = \"/\";\n};_this.state={jobTitle:_this.props.currJob.jobTitle,jobDesc:_this.props.currJob.jobDesc,salary:_this.props.currJob.salary,location:_this.props.currJob.location,jobPostingMessage:\"\",deadline:_this.props.currJob.deadline};_this.handleJobDesc=_this.handleJobDesc.bind(_assertThisInitialized(_this));_this.handleSalary=_this.handleSalary.bind(_assertThisInitialized(_this));_this.handleLocation=_this.handleLocation.bind(_assertThisInitialized(_this));_this.handleJobCreation=_this.handleJobCreation.bind(_assertThisInitialized(_this));_this.handleDeadline=_this.handleDeadline.bind(_assertThisInitialized(_this));return _this;}_createClass(EditJob,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Edit Job posting\"),/*#__PURE__*/React.createElement(\"h5\",{id:\"jobPostingMessage\"},this.state.jobPostingMessage),/*#__PURE__*/React.createElement(\"form\",{className:\"myForm\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"CompanyName\"},\"Company Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:true,className:\"form-control\",id:\"companyName\",value:this.props.currJob.companyName}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"CompanyName\"},\"Job Title\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",disabled:true,className:\"form-control\",id:\"jobTitle\",value:this.state.jobTitle}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"JobDesc\"},\"Job Description\"),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"10\",cols:\"75\",className:\"form-control\",id:\"jobDesc\",value:this.state.jobDesc,onChange:this.handleJobDesc}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Location\"},\"Street\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"address\",value:this.state.location.address,onChange:this.handleLocation}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Location\"},\"City\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"city\",value:this.state.location.city,onChange:this.handleLocation}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Location\"},\"Province\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"province\",value:this.state.location.province,onChange:this.handleLocation}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Location\"},\"Postal Code\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"postalCode\",value:this.state.location.postalCode,onChange:this.handleLocation}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Salary\"},\"Salary per month\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"$CAD\",id:\"SALARY\",value:this.state.salary,onChange:this.handleSalary}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"Salary\"},\"Deadline\"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",className:\"form-control\",id:\"deadline\",value:this.state.deadline,onChange:this.handleDeadline})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:this.handleJobCreation},\"Edit Job\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}}]);return EditJob;}(Component);export{EditJob as default};","map":{"version":3,"sources":["/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/src/Jobs/EditJob.js"],"names":["React","Component","axios","Location","address","city","pr","pcode","province","postalCode","EditJob","props","handleJobDesc","event","setState","jobDesc","target","value","handleSalary","salary","handleDeadline","console","log","deadline","handleLocation","e","state","location","currentLocation","name","handleJobCreation","preventDefault","job","companyName","currJob","jobTitle","post","then","res","data","document","getElementById","style","color","jobPostingMessage","catch","err","finally","window","scrollTo","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './CreateJob.css';\n\nfunction Location(address, city, pr, pcode) {\n    this.address = address;\n    this.city = city;\n    this.province = pr;\n    this.postalCode = pcode;\n}\n\nexport default class EditJob extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            jobTitle: this.props.currJob.jobTitle,\n            jobDesc: this.props.currJob.jobDesc,\n            salary: this.props.currJob.salary,\n            location: this.props.currJob.location,\n            jobPostingMessage: \"\",\n            deadline: this.props.currJob.deadline,\n        }\n\n        this.handleJobDesc = this.handleJobDesc.bind(this);\n        this.handleSalary = this.handleSalary.bind(this);\n        this.handleLocation = this.handleLocation.bind(this);\n        this.handleJobCreation = this.handleJobCreation.bind(this);\n        this.handleDeadline = this.handleDeadline.bind(this);\n    }\n\n    handleJobDesc = (event) => {\n        this.setState({jobDesc: event.target.value});\n    }\n\n    handleSalary = (event) => {\n        this.setState({salary: event.target.value});\n    }\n\n    handleDeadline = (event) => {\n        console.log( event.target.value);\n        this.setState({deadline: event.target.value});\n    }\n\n    handleLocation = (e) => {\n\n        const { location } = { ...this.state };\n        const currentLocation = location;\n        const { name, value } = e.target;\n\n        currentLocation[name] = value;\n\n        this.setState({ location: currentLocation });\n    }\n\n    handleJobCreation = (event) => {\n        console.log(this.state);\n        event.preventDefault();\n\n        const job = {\n            companyName: this.props.currJob.companyName,\n            jobTitle: this.props.currJob.jobTitle,\n            jobDesc: this.state.jobDesc,\n            salary: this.state.salary,\n            location: this.state.location,\n            deadline: this.state.deadline\n        }\n\n        axios.post('/jobs/editJob', job)\n            .then((res) => {\n                console.log(res.data);\n                document.getElementById(\"jobPostingMessage\").style.color = \"green\";\n                this.setState({\n                    jobTitle: '',\n                    jobDesc: '',\n                    salary: '',\n                    location: new Location(\"\", \"\", \"\", \"\", \"\"),\n                    deadline: \"\",\n                    jobPostingMessage: \"Changes successfully saved!\",\n                });\n            })\n            .catch((err) => {\n                // display error message\n                document.getElementById(\"jobPostingMessage\").style.color = \"red\";\n                this.setState({\n                    jobPostingMessage: \"There was an error editing the job. Please try again.\",\n                });\n            })\n            .finally(() => {\n                window.scrollTo(0, 0);\n            });\n\n        // redirect the user back to their homepage after adding the job-- if this is the default page then reset the form\n        // window.location = \"/\";\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h1>Edit Job posting</h1>\n                <h5 id=\"jobPostingMessage\">{this.state.jobPostingMessage}</h5>\n                <form className=\"myForm\">\n                    <div className=\"form-group\">\n                        <label htmlFor=\"CompanyName\">Company Name</label>\n                        <input type=\"text\" disabled className=\"form-control\" id=\"companyName\" value={this.props.currJob.companyName} />\n\n                        <label htmlFor=\"CompanyName\">Job Title</label>\n                        <input type=\"text\" disabled className=\"form-control\" id=\"jobTitle\" value={this.state.jobTitle} />\n\n                        <label htmlFor=\"JobDesc\">Job Description</label>\n                        <textarea rows=\"10\" cols=\"75\" className=\"form-control\" id=\"jobDesc\" value={this.state.jobDesc} onChange={this.handleJobDesc} />\n\n                        <label htmlFor=\"Location\">Street</label>\n                        <input type=\"text\" className=\"form-control\" name=\"address\" value={this.state.location.address} onChange={this.handleLocation} />\n                        <label htmlFor=\"Location\">City</label>\n                        <input type=\"text\" className=\"form-control\" name=\"city\" value={this.state.location.city} onChange={this.handleLocation} />\n                        <label htmlFor=\"Location\">Province</label>\n                        <input type=\"text\" className=\"form-control\" name=\"province\" value={this.state.location.province} onChange={this.handleLocation} />\n                        <label htmlFor=\"Location\">Postal Code</label>\n                        <input type=\"text\" className=\"form-control\" name=\"postalCode\" value={this.state.location.postalCode} onChange={this.handleLocation} />\n\n                        <label htmlFor=\"Salary\">Salary per month</label>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"$CAD\" id=\"SALARY\" value={this.state.salary} onChange={this.handleSalary} />\n\n                        <label htmlFor=\"Salary\">Deadline</label>\n                        <input type=\"date\" className=\"form-control\" id=\"deadline\" value={this.state.deadline} onChange={this.handleDeadline} />\n                    </div>\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.handleJobCreation}>Edit Job</button>\n                    <br/>\n                    <br/>\n                </form>\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}