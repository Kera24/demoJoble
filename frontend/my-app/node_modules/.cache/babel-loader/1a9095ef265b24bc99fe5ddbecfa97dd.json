{"ast":null,"code":"import _classCallCheck from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";// Tabs needed: Create job, View Job,\nimport React,{Component}from'react';import axios from'axios';var EditCompany=/*#__PURE__*/function(_Component){_inherits(EditCompany,_Component);var _super=_createSuper(EditCompany);function EditCompany(props){var _this;_classCallCheck(this,EditCompany);_this=_super.call(this,props);_this.handleCompanyWebsiteChange=function(event){_this.setState({companyWebsite:event.target.value},function(){// console.log(event.target.value);\n});};_this.handleCompanySizeChange=function(event){_this.setState({companySize:event.target.value},function(){// console.log(event.target.value);\n});};_this.handleCompanyHeadquatersChange=function(event){_this.setState({companyHeadquaters:event.target.value},function(){// console.log(event.target.value);\n});};_this.handleCompanyFoundedChange=function(event){_this.setState({companyFounded:event.target.value},function(){// console.log(event.target.value);\n});};_this.handleCompanyAboutChange=function(event){_this.setState({companyAbout:event.target.value},function(){// console.log(event.target.value);\n});};_this.editCompany=function(){console.log(_this.props.companyInfo);var data={companyName:_this.props.companyInfo.name,companyAbout:_this.state.companyAbout,companySize:_this.state.companySize,companyFounded:_this.state.companyFounded,companyHeadquaters:_this.state.companyHeadquaters,companyWebsite:_this.state.companyWebsite};axios.post(\"/companies/edit\",data).then(function(res){console.log(\"--Company edited successfully--\");document.getElementById(\"statusMessage\").style.color=\"green\";// show success message\n_this.setState({message:\"Company edited successfully!\"});}).catch(function(err){// display error message\ndocument.getElementById(\"statusMessage\").style.color=\"red\";_this.setState({message:\"There was a problem completing your request. Please try again later.\"});}).finally(function(){window.scrollTo(0,0);});};_this.state={companyWebsite:_this.props.companyInfo.website,companySize:_this.props.companyInfo.size,companyHeadquaters:_this.props.companyInfo.headquarters,companyFounded:_this.props.companyInfo.founded,companyAbout:_this.props.companyInfo.about,message:''};return _this;}_createClass(EditCompany,[{key:\"render\",value:function render(){console.log(this.props.companyInfo);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",{id:\"statusMessage\"},this.state.message),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"companyWebsite\"},\"Company Website\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"companyWebsite\",value:this.state.companyWebsite,onChange:this.handleCompanyWebsiteChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"companySize\"},\"Company Size\"),/*#__PURE__*/React.createElement(\"select\",{disabled:this.state.userType==='student',className:\"form-control\",id:\"companySize\",value:this.state.companySize,onChange:this.handleCompanySizeChange},/*#__PURE__*/React.createElement(\"option\",{value:\"Self-employed\"},\"A: Self-employed\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1-10 employees\"},\"B: 1-10 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"11-50 employees\"},\"C: 11-50 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"51-200 employees\"},\"D: 51-200 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"201-500 employees\"},\"E: 201-500 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"501-1000 employees\"},\"F: 501-1000 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1001-5000 employees\"},\"G: 1001-5000 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5001-10,000 employees\"},\"H: 5001-10,000 employees\"),/*#__PURE__*/React.createElement(\"option\",{value:\"10,001+ employees\"},\"I: 10,001+ employees\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"companyHeadquaters\"},\"Headquaters Location\"),/*#__PURE__*/React.createElement(\"input\",{disabled:this.state.userType==='student',type:\"text\",className:\"form-control\",id:\"\",value:this.state.companyHeadquaters,onChange:this.handleCompanyHeadquatersChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"companyFounded\"},\"Year Founded\"),/*#__PURE__*/React.createElement(\"input\",{disabled:this.state.userType==='student',type:\"text\",className:\"form-control\",id:\"companyFounded\",value:this.state.companyFounded,onChange:this.handleCompanyFoundedChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"companyAbout\"},\"About Your Company\"),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"10\",cols:\"75\",className:\"form-control\",id:\"companyAbout\",value:this.state.companyAbout,onChange:this.handleCompanyAboutChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"btn btn-success\",onClick:this.editCompany},\"Save changes\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)));}}]);return EditCompany;}(Component);export{EditCompany as default};","map":{"version":3,"sources":["/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/src/Company/EditCompany.js"],"names":["React","Component","axios","EditCompany","props","handleCompanyWebsiteChange","event","setState","companyWebsite","target","value","handleCompanySizeChange","companySize","handleCompanyHeadquatersChange","companyHeadquaters","handleCompanyFoundedChange","companyFounded","handleCompanyAboutChange","companyAbout","editCompany","console","log","companyInfo","data","companyName","name","state","post","then","res","document","getElementById","style","color","message","catch","err","finally","window","scrollTo","website","size","headquarters","founded","about","userType"],"mappings":"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","sourcesContent":["// Tabs needed: Create job, View Job,\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class EditCompany extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            companyWebsite: this.props.companyInfo.website,\n            companySize: this.props.companyInfo.size,\n            companyHeadquaters:  this.props.companyInfo.headquarters,\n            companyFounded: this.props.companyInfo.founded,\n            companyAbout: this.props.companyInfo.about,\n            message: '',\n        };\n    }\n\n    handleCompanyWebsiteChange = (event) =>{\n        this.setState({companyWebsite: event.target.value}, () =>{\n            // console.log(event.target.value);\n        });\n    }\n\n    handleCompanySizeChange = (event) =>{\n        this.setState({companySize: event.target.value}, () =>{\n            // console.log(event.target.value);\n        });\n    }\n\n    handleCompanyHeadquatersChange = (event) =>{\n        this.setState({companyHeadquaters: event.target.value}, () =>{\n            // console.log(event.target.value);\n        });\n    }\n\n    handleCompanyFoundedChange = (event) =>{\n        this.setState({companyFounded: event.target.value}, () =>{\n            // console.log(event.target.value);\n        });\n    }\n\n    handleCompanyAboutChange = (event) =>{\n        this.setState({companyAbout: event.target.value}, () =>{\n            // console.log(event.target.value);\n        });\n    }\n\n    editCompany = () => {\n        console.log(this.props.companyInfo);\n        const data = {\n            companyName: this.props.companyInfo.name,\n            companyAbout: this.state.companyAbout,\n            companySize: this.state.companySize,\n            companyFounded: this.state.companyFounded,\n            companyHeadquaters: this.state.companyHeadquaters,\n            companyWebsite: this.state.companyWebsite,\n        };\n\n        axios.post(`/companies/edit`, data)\n        .then((res) => {\n            console.log(\"--Company edited successfully--\");\n            document.getElementById(\"statusMessage\").style.color = \"green\";\n            // show success message\n            this.setState({\n                message: \"Company edited successfully!\",\n            });\n        })\n        .catch((err) => {\n            // display error message\n            document.getElementById(\"statusMessage\").style.color = \"red\";\n            this.setState({\n                message: \"There was a problem completing your request. Please try again later.\",\n            });\n        })\n        .finally(()=>{\n            window.scrollTo(0, 0);\n        });\n    }\n\n    render() {\n        console.log(this.props.companyInfo);\n        return (\n            <React.Fragment>\n                <p id=\"statusMessage\">{this.state.message}</p>\n                <form>\n                     <div className=\"form-group\">\n                            <label htmlFor=\"companyWebsite\">Company Website</label>\n                        <input type=\"text\" className=\"form-control\" id=\"companyWebsite\" value={this.state.companyWebsite} onChange={this.handleCompanyWebsiteChange} />\n                    </div>\n                    <div className=\"form-group\" >\n                        <label htmlFor=\"companySize\">Company Size</label>\n                        <select disabled={this.state.userType==='student'} className=\"form-control\" id=\"companySize\" value={this.state.companySize} onChange={this.handleCompanySizeChange} >\n                            <option value=\"Self-employed\">A: Self-employed</option>\n                        <option value=\"1-10 employees\">B: 1-10 employees</option>\n                            <option value=\"11-50 employees\">C: 11-50 employees</option>\n                            <option value=\"51-200 employees\">D: 51-200 employees</option>\n                            <option value=\"201-500 employees\">E: 201-500 employees</option>\n                            <option value=\"501-1000 employees\">F: 501-1000 employees</option>\n                            <option value=\"1001-5000 employees\">G: 1001-5000 employees</option>\n                            <option value=\"5001-10,000 employees\">H: 5001-10,000 employees</option>\n                            <option value=\"10,001+ employees\">I: 10,001+ employees</option>\n                        </select>\n                    </div>\n                    <div className=\"form-group\" >\n                        <label htmlFor=\"companyHeadquaters\">Headquaters Location</label>\n                        <input disabled={this.state.userType==='student'} type=\"text\" className=\"form-control\" id=\"\" value={this.state.companyHeadquaters} onChange={this.handleCompanyHeadquatersChange} />\n                    </div>\n                    <div className=\"form-group\" >\n                        <label htmlFor=\"companyFounded\">Year Founded</label>\n                        <input disabled={this.state.userType==='student'} type=\"text\" className=\"form-control\" id=\"companyFounded\" value={this.state.companyFounded} onChange={this.handleCompanyFoundedChange} />\n                    </div>\n                    <div className=\"form-group\" >\n                        <label htmlFor=\"companyAbout\">About Your Company</label>\n                        <textarea rows=\"10\" cols=\"75\" className=\"form-control\" id=\"companyAbout\" value={this.state.companyAbout} onChange={this.handleCompanyAboutChange} />\n                    </div>\n                    <button type=\"button\" className=\"btn btn-success\" onClick={this.editCompany}>Save changes</button>\n                    <br/>\n                    <br/>\n                </form>\n            </React.Fragment>   \n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}