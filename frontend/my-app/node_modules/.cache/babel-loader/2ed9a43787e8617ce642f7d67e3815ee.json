{"ast":null,"code":"import _classCallCheck from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import axios from'axios';import'./ViewApplications.css';var ViewApplications=/*#__PURE__*/function(_Component){_inherits(ViewApplications,_Component);var _super=_createSuper(ViewApplications);function ViewApplications(props){var _this;_classCallCheck(this,ViewApplications);_this=_super.call(this,props);_this.state={userName:_this.props.userName,applications:[]};_this.getApplications=_this.getApplications.bind(_assertThisInitialized(_this));_this.printApplications=_this.printApplications.bind(_assertThisInitialized(_this));_this.getApplications();return _this;}_createClass(ViewApplications,[{key:\"getApplications\",value:function getApplications(){var _this2=this;axios.get(\"/applications/list?userName=\".concat(this.props.userName)).then(function(res){console.log(res);_this2.applications=res.data;_this2.setState({applications:res.data});}).catch(function(err){console.log(err);});}},{key:\"printRows\",value:function printRows(){var hostname=window.location.hostname;var rows=this.state.applications.map(function(application,appId){return/*#__PURE__*/React.createElement(\"tr\",{key:appId},/*#__PURE__*/React.createElement(\"td\",null,application.jobTitle),/*#__PURE__*/React.createElement(\"td\",null,application.companyName),/*#__PURE__*/React.createElement(\"td\",null,new Date(application.createdAt).toLocaleString()),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"http://\"+hostname+\":5000\"+application.resume},\"View\")));});return rows;}},{key:\"printApplications\",value:function printApplications(){return/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Company name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date\"),/*#__PURE__*/React.createElement(\"th\",null,\"Status\"),/*#__PURE__*/React.createElement(\"th\",null,\"Resume\")),this.printRows()));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"My Applications\"),/*#__PURE__*/React.createElement(\"br\",null),this.state.applications.length===0?\"You have no active applications.\":this.printApplications());}}]);return ViewApplications;}(Component);export{ViewApplications as default};","map":{"version":3,"sources":["/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/src/Apply/ViewApplications.js"],"names":["React","Component","axios","ViewApplications","props","state","userName","applications","getApplications","bind","printApplications","get","then","res","console","log","data","setState","catch","err","hostname","window","location","rows","map","application","appId","jobTitle","companyName","Date","createdAt","toLocaleString","resume","printRows","length"],"mappings":"27BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,wBAAP,C,GAEqBC,CAAAA,gB,oHAEnB,0BAAYC,KAAZ,CAAkB,kDAChB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAc,CACZC,QAAQ,CAAE,MAAKF,KAAL,CAAWE,QADT,CAEZC,YAAY,CAAE,EAFF,CAAd,CAKA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB,CACA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBD,IAAvB,+BAAzB,CACA,MAAKD,eAAL,GAVgB,aAWjB,C,sFAEiB,iBAChBN,KAAK,CAACS,GAAN,uCAAyC,KAAKP,KAAL,CAAWE,QAApD,GACGM,IADH,CACQ,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACA,MAAI,CAACN,YAAL,CAAoBM,GAAG,CAACG,IAAxB,CACA,MAAI,CAACC,QAAL,CAAc,CACZV,YAAY,CAAEM,GAAG,CAACG,IADN,CAAd,EAID,CARH,EASGE,KATH,CASS,SAAAC,GAAG,CAAI,CACZL,OAAO,CAACC,GAAR,CAAYI,GAAZ,EACD,CAXH,EAYD,C,6CAEW,CACV,GAAIC,CAAAA,QAAQ,CAAGC,MAAM,CAACC,QAAP,CAAgBF,QAA/B,CACA,GAAIG,CAAAA,IAAI,CAAG,KAAKlB,KAAL,CAAWE,YAAX,CAAwBiB,GAAxB,CAA4B,SAACC,WAAD,CAAaC,KAAb,CAAuB,CAC5D,mBACE,0BAAI,GAAG,CAAEA,KAAT,eACE,8BAAMD,WAAW,CAACE,QAAlB,CADF,cAEE,8BAAMF,WAAW,CAACG,WAAlB,CAFF,cAGE,8BAAM,GAAIC,CAAAA,IAAJ,CAASJ,WAAW,CAACK,SAArB,EAAgCC,cAAhC,EAAN,CAHF,cAIE,2CAAI,yBAAG,IAAI,CAAG,UAAYX,QAAZ,CAAuB,OAAvB,CAAiCK,WAAW,CAACO,MAAvD,SAAJ,CAJF,CADF,CAQD,CATU,CAAX,CAUA,MAAOT,CAAAA,IAAP,CACD,C,6DAEmB,CAClB,mBACE,6BAAO,SAAS,CAAC,OAAjB,eACA,8CACE,2CACE,6CADF,cAEE,qCAFF,cAGE,uCAHF,cAIE,uCAJF,CADF,CAOI,KAAKU,SAAL,EAPJ,CADA,CADF,CAaD,C,uCAEQ,CACP,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,gDADF,cAC0B,8BAD1B,CAEI,KAAK5B,KAAL,CAAWE,YAAX,CAAwB2B,MAAxB,GAAmC,CAAnC,CAAuC,kCAAvC,CAA4E,KAAKxB,iBAAL,EAFhF,CADF,CAMD,C,8BApE2CT,S,SAAzBE,gB","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport './ViewApplications.css';\r\n\r\nexport default class ViewApplications extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.state  = {\r\n      userName: this.props.userName,\r\n      applications: []\r\n    };\r\n\r\n    this.getApplications = this.getApplications.bind(this);\r\n    this.printApplications = this.printApplications.bind(this);\r\n    this.getApplications();\r\n  }\r\n\r\n  getApplications() {\r\n    axios.get(`/applications/list?userName=${this.props.userName}`)\r\n      .then(res => {\r\n        console.log(res);\r\n        this.applications = res.data;\r\n        this.setState({\r\n          applications: res.data\r\n        });\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  printRows() {\r\n    let hostname = window.location.hostname;\r\n    let rows = this.state.applications.map((application,appId) => {\r\n      return (\r\n        <tr key={appId}>\r\n          <td>{ application.jobTitle }</td>\r\n          <td>{ application.companyName }</td>\r\n          <td>{ new Date(application.createdAt).toLocaleString() }</td>\r\n          <td><a href={ \"http://\" + hostname + \":5000\" + application.resume }>View</a></td>\r\n        </tr>\r\n      )\r\n    })\r\n    return rows;\r\n  }\r\n\r\n  printApplications() {\r\n    return (\r\n      <table className=\"table\">\r\n      <tbody>\r\n        <tr>\r\n          <th>Company name</th>\r\n          <th>Date</th>\r\n          <th>Status</th>\r\n          <th>Resume</th>\r\n        </tr>\r\n        { this.printRows() }\r\n      </tbody>\r\n      </table>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <h1>My Applications</h1><br/>\r\n        { this.state.applications.length === 0 ? \"You have no active applications.\" : this.printApplications() }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}