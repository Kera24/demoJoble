{"ast":null,"code":"import _createForOfIteratorHelper from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _classCallCheck from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";// Tabs needed: Create job, View Job,\nimport React,{Component}from'react';import EditCompany from\"./EditCompany\";import Overview from\"./Overview\";import axios from'axios';import CompanyReview from\"./CompanyReview\";import'./CompanyInfo.css';var CompanyInfo=/*#__PURE__*/function(_Component){_inherits(CompanyInfo,_Component);var _super=_createSuper(CompanyInfo);function CompanyInfo(props){var _this;_classCallCheck(this,CompanyInfo);_this=_super.call(this,props);_this.editCompany=function(){// display EditCompany component\n_this.setState({companyEdit:true});};_this.state={currentTab:0,companyInfo:{// add reviews as well\nname:'',website:'',type:'',size:'',headquarters:'',founded:'',industry:'',about:'',jobs:[{jobDesc:'',salary:'',jobTitle:'',location:{streetNumber:'',streetName:'',city:'',province:''}}]},errorMessage:'',companyEdit:false,job:null};_this.getCompanyInfo();_this.handleTabChange=_this.handleTabChange.bind(_assertThisInitialized(_this));_this.getCompanyInfo=_this.getCompanyInfo.bind(_assertThisInitialized(_this));_this.goBack=_this.goBack.bind(_assertThisInitialized(_this));return _this;}_createClass(CompanyInfo,[{key:\"componentDidMount\",value:function componentDidMount(){var overviewButton=document.getElementsByClassName(\"companyInfo\")[0];overviewButton.style.backgroundColor=\"rgb(240, 240, 240)\";}},{key:\"goBack\",value:function goBack(){this.props.goBack();}},{key:\"handleTabChange\",value:function handleTabChange(tabId){var grabButtons=document.getElementsByClassName(\"companyInfo\");var _iterator=_createForOfIteratorHelper(grabButtons),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var gb=_step.value;gb.style.backgroundColor=\"white\";}}catch(err){_iterator.e(err);}finally{_iterator.f();}grabButtons[tabId].style.backgroundColor=\"rgb(240, 240, 240)\";this.setState({currentTab:tabId});}},{key:\"getCompanyInfo\",value:function getCompanyInfo(){var _this2=this;axios.get(\"/companies/info?companyName=\".concat(this.props.companyName)).then(function(res){console.log(\"__got data__\");console.log(res.data);_this2.setState(function(prevState){var companyInfo=Object.assign({},prevState.companyInfo);console.log(res.data);companyInfo.name=res.data.companyName;companyInfo.website=res.data.companyWebsite;companyInfo.type=res.data.companyType;companyInfo.size=res.data.companySize;companyInfo.headquarters=res.data.companyHeadquaters;companyInfo.founded=res.data.companyFounded;companyInfo.industry=res.data.companySector;companyInfo.about=res.data.companyAbout;return{companyInfo:companyInfo};});}).catch(function(err){// display error message\ndocument.getElementById(\"viewCompany\").style.color=\"red\";_this2.setState({errorMessage:\"There was a problem completing your request. Please try again later.\",companyEdit:false});window.scrollTo(0,0);});}},{key:\"render\",value:function render(){var _this3=this;var companyName=this.props.companyName;//const goBack= this.props.navigation;\nvar componentToServe;if(this.state.companyEdit){console.log(\"Serving edit company\");componentToServe=/*#__PURE__*/React.createElement(EditCompany,{companyInfo:this.state.companyInfo});}else{if(this.state.currentTab===0){componentToServe=/*#__PURE__*/React.createElement(Overview,{companyInfo:this.state.companyInfo});}else{componentToServe=/*#__PURE__*/React.createElement(CompanyReview,{companyInfo:this.state.companyInfo,userInfo:this.props.userInfo});}}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"/#\"},companyName)),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h5\",{id:\"viewCompany\"},this.state.errorMessage),this.state.errorMessage===\"\"&&!this.state.companyEdit&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"nav\",{className:\"navbar navbar-light navbar-expand-sm\"},!this.props.source===\"recruiter\"&&/*#__PURE__*/React.createElement(\"button\",{id:\"back-to-job\",className:\"btn btn-primary\",onClick:function onClick(){return _this3.goBack();}},\"Back to Job posting\"),this.props.source===\"recruiter\"&&/*#__PURE__*/React.createElement(\"button\",{id:\"edit-company\",className:\"btn btn-primary\",onClick:function onClick(){return _this3.editCompany();}},\"Edit Company\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"nav nav-tabs ml-auto\"},/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"button\",{className:\"nav-link navbar-right userNav companyInfo\",onClick:function onClick(){return _this3.handleTabChange(0);}},\"Overview\")),/*#__PURE__*/React.createElement(\"li\",{className:\"nav-item\"},/*#__PURE__*/React.createElement(\"button\",{className:\"nav-link navbar-right userNav companyInfo\",onClick:function onClick(){return _this3.handleTabChange(1);}},\"Reviews\")))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),this.state.errorMessage===\"\"&&componentToServe));}}]);return CompanyInfo;}(Component);export{CompanyInfo as default};","map":{"version":3,"sources":["/home/samspei0l/Documents/projects/go/myBetterExperience/frontend/my-app/src/Company/CompanyInfo.js"],"names":["React","Component","EditCompany","Overview","axios","CompanyReview","CompanyInfo","props","editCompany","setState","companyEdit","state","currentTab","companyInfo","name","website","type","size","headquarters","founded","industry","about","jobs","jobDesc","salary","jobTitle","location","streetNumber","streetName","city","province","errorMessage","job","getCompanyInfo","handleTabChange","bind","goBack","overviewButton","document","getElementsByClassName","style","backgroundColor","tabId","grabButtons","gb","get","companyName","then","res","console","log","data","prevState","Object","assign","companyWebsite","companyType","companySize","companyHeadquaters","companyFounded","companySector","companyAbout","catch","err","getElementById","color","window","scrollTo","componentToServe","userInfo","source"],"mappings":"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","sourcesContent":["// Tabs needed: Create job, View Job,\nimport React, { Component } from 'react';\nimport EditCompany from \"./EditCompany\";\nimport Overview from \"./Overview\";\nimport axios from 'axios';\nimport CompanyReview from \"./CompanyReview\";\nimport './CompanyInfo.css';\n\nexport default class CompanyInfo extends Component {\n    constructor(props){\n        super(props);\n\n        this.state= {\n            currentTab: 0,\n            companyInfo: {  // add reviews as well\n                name: '',\n                website: '',\n                type: '',\n                size: '',\n                headquarters: '',\n                founded: '',\n                industry: '',\n                about: '',\n                jobs: [{\n                    jobDesc: '',\n                    salary: '',\n                    jobTitle: '',\n                    location: {\n                        streetNumber: '',\n                        streetName: '',\n                        city: '',\n                        province: ''\n                    }\n                }],\n            },\n            errorMessage: '',\n            companyEdit: false,\n            job: null,\n        };\n\n        this.getCompanyInfo();\n\n        this.handleTabChange = this.handleTabChange.bind(this);\n        this.getCompanyInfo =this.getCompanyInfo.bind(this);\n        this.goBack = this.goBack.bind(this);\n    }\n\n    componentDidMount() {\n        let overviewButton = document.getElementsByClassName(\"companyInfo\")[0];\n        overviewButton.style.backgroundColor = \"rgb(240, 240, 240)\";\n    }\n\n    goBack() {\n        this.props.goBack();\n    }\n\n    editCompany = () => {\n        // display EditCompany component\n        this.setState({\n            companyEdit: true,\n        });\n    }\n\n    handleTabChange(tabId) {\n        let grabButtons = document.getElementsByClassName(\"companyInfo\");\n\n        for (let gb of grabButtons) {\n            gb.style.backgroundColor = \"white\";\n        }\n        grabButtons[tabId].style.backgroundColor = \"rgb(240, 240, 240)\";\n        this.setState({currentTab: tabId});\n    }\n\n    getCompanyInfo() {\n        axios.get(`/companies/info?companyName=${this.props.companyName}`)\n            .then((res) => {\n                console.log(\"__got data__\");\n                console.log(res.data);\n                this.setState((prevState) => {\n                    let companyInfo = Object.assign({}, prevState.companyInfo);\n                    console.log(res.data);\n                    companyInfo.name = res.data.companyName;\n                    companyInfo.website = res.data.companyWebsite;\n                    companyInfo.type = res.data.companyType;\n                    companyInfo.size = res.data.companySize;\n                    companyInfo.headquarters = res.data.companyHeadquaters;\n                    companyInfo.founded = res.data.companyFounded;\n                    companyInfo.industry = res.data.companySector;\n                    companyInfo.about = res.data.companyAbout;\n                    return { companyInfo };\n                });\n            })\n            .catch((err) => {\n                // display error message\n                document.getElementById(\"viewCompany\").style.color = \"red\";\n                this.setState({\n                    errorMessage: \"There was a problem completing your request. Please try again later.\",\n                    companyEdit: false,\n                });\n                window.scrollTo(0, 0);\n            });\n    }\n\n    render() {\n        const companyName = this.props.companyName;\n        //const goBack= this.props.navigation;\n\n        let componentToServe;\n        if (this.state.companyEdit) {\n            console.log(\"Serving edit company\");\n            componentToServe = <EditCompany companyInfo = {this.state.companyInfo}/>\n        } else {\n            if (this.state.currentTab === 0) {\n                componentToServe = <Overview companyInfo={this.state.companyInfo}/>;\n            } else {\n                componentToServe = <CompanyReview companyInfo={this.state.companyInfo} userInfo ={this.props.userInfo}/>\n            }\n        }\n\n        return (\n            <React.Fragment>\n                <div className=\"container\">\n                <h1><a href=\"/#\">{companyName}</a></h1>\n                    <hr/>\n                    <h5 id=\"viewCompany\">{this.state.errorMessage}</h5>\n                    {this.state.errorMessage === \"\" && ! this.state.companyEdit &&  (\n                    <div>\n                    <nav className=\"navbar navbar-light navbar-expand-sm\">\n                    {! this.props.source === \"recruiter\" && <button id=\"back-to-job\" className=\"btn btn-primary\" onClick={() => this.goBack()}>Back to Job posting</button>}\n                    {this.props.source === \"recruiter\" && <button id=\"edit-company\" className=\"btn btn-primary\" onClick={() => this.editCompany()}>Edit Company</button>}\n                    <ul className=\"nav nav-tabs ml-auto\">\n                    <li className=\"nav-item\">\n                        <button className=\"nav-link navbar-right userNav companyInfo\" onClick={() => this.handleTabChange(0)}>Overview</button>\n                    </li>\n                    <li className=\"nav-item\">\n                        <button className=\"nav-link navbar-right userNav companyInfo\" onClick={() => this.handleTabChange(1)}>Reviews</button>\n                    </li>\n                    </ul>\n                    </nav>\n                    <br/>\n                    <br/>\n                    </div>)}\n                    {this.state.errorMessage === \"\" && (componentToServe)}\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}